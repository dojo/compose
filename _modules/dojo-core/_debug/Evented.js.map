{"version":3,"file":"Evented.js","sourceRoot":"","sources":["Evented.ts"],"names":["Evented","Evented.constructor","Evented.emit","Evented.on"],"mappings":";;;;;;;;IACA,uBAAmB,UAAU,CAAC,CAAA;IAE9B;QAAAA;QA8BAC,CAACA;QA7BAD;;;WAGGA;QACHA,sBAAIA,GAAJA,UAA4BA,IAAOA;YAClCE,IAAMA,IAAIA,GAAGA,MAAMA,GAAGA,IAAIA,CAACA,IAAIA,CAACA;YAChCA,IAAMA,MAAMA,GAAoBA,IAAKA,CAACA,IAAIA,CAACA,CAACA;YAC5CA,EAAEA,CAACA,CAACA,MAAMA,CAACA,CAACA,CAACA;gBACZA,MAAMA,CAACA,MAAMA,CAACA,IAAIA,CAACA,IAAIA,EAAEA,IAAIA,CAACA,CAACA;YAChCA,CAACA;QACFA,CAACA;QAEDF;;;;;WAKGA;QACHA,oBAAEA,GAAFA,UAAGA,IAAYA,EAAEA,QAAsCA;YACtDG,IAAMA,IAAIA,GAAGA,MAAMA,GAAGA,IAAIA,CAACA;YAC3BA,EAAEA,CAACA,CAACA,CAAQA,IAAKA,CAACA,IAAIA,CAACA,CAACA,CAACA,CAACA;gBACzBA,MAAMA,CAACA,cAAcA,CAACA,IAAIA,EAAEA,IAAIA,EAAEA;oBACjCA,YAAYA,EAAEA,IAAIA;oBAClBA,KAAKA,EAAEA,SAASA;oBAChBA,QAAQA,EAAEA,IAAIA;iBACdA,CAACA,CAACA;YACJA,CAACA;YACDA,MAAMA,CAACA,WAAEA,CAACA,IAAIA,EAAEA,MAAMA,GAAGA,IAAIA,EAAEA,QAAQA,CAACA,CAACA;QAC1CA,CAACA;QACFH,cAACA;IAADA,CAACA,AA9BD,IA8BC;IA9BD;6BA8BC,CAAA","sourcesContent":["import { Handle, EventObject } from './interfaces';\nimport { on } from './aspect';\n\nexport default class Evented {\n\t/**\n\t * Emits an event, firing listeners registered for it.\n\t * @param event The event object to emit\n\t */\n\temit<T extends EventObject>(data: T): void {\n\t\tconst type = '__on' + data.type;\n\t\tconst method: Function = (<any> this)[type];\n\t\tif (method) {\n\t\t\treturn method.call(this, data);\n\t\t}\n\t}\n\n\t/**\n\t * Listens for an event, calling the listener whenever the event fires.\n\t * @param type Event type to listen for\n\t * @param listener Callback to handle the event when it fires\n\t * @return A handle which will remove the listener when destroy is called\n\t */\n\ton(type: string, listener: (event: EventObject) => void): Handle {\n\t\tconst name = '__on' + type;\n\t\tif (!(<any> this)[name]) {\n\t\t\tObject.defineProperty(this, name, {\n\t\t\t\tconfigurable: true,\n\t\t\t\tvalue: undefined,\n\t\t\t\twritable: true\n\t\t\t});\n\t\t}\n\t\treturn on(this, '__on' + type, listener);\n\t}\n}\n"]}