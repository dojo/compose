{"version":3,"file":"SizeQueue.js","sourceRoot":"","sources":["SizeQueue.ts"],"names":["SizeQueue","SizeQueue.constructor","SizeQueue.totalSize","SizeQueue.length","SizeQueue.empty","SizeQueue.enqueue","SizeQueue.dequeue","SizeQueue.peek"],"mappings":";;;;;;;;IAKA;;;OAGG;IACH;QAAAA;YAaSC,WAAMA,GAAcA,EAAEA,CAACA;QAmBhCA,CAACA;QA/BAD,sBAAIA,gCAASA;iBAAbA;gBACCE,IAAIA,SAASA,GAAGA,CAACA,CAACA;gBAClBA,IAAIA,CAACA,MAAMA,CAACA,OAAOA,CAACA,UAAUA,IAAIA;oBACjC,SAAS,IAAI,IAAI,CAAC,IAAI,CAAC;gBACxB,CAAC,CAACA,CAACA;gBACHA,MAAMA,CAACA,SAASA,CAACA;YAClBA,CAACA;;;WAAAF;QAEDA,sBAAIA,6BAAMA;iBAAVA;gBACCG,MAAMA,CAACA,IAAIA,CAACA,MAAMA,CAACA,MAAMA,CAACA;YAC3BA,CAACA;;;WAAAH;QAIDA,yBAAKA,GAALA;YACCI,IAAIA,CAACA,MAAMA,GAAGA,EAAEA,CAACA;QAClBA,CAACA;QAEDJ,2BAAOA,GAAPA,UAAQA,KAAQA,EAAEA,IAAYA;YAC7BK,IAAIA,CAACA,MAAMA,CAACA,IAAIA,CAACA,EAAEA,KAAKA,EAAEA,KAAKA,EAAEA,IAAIA,EAAEA,IAAIA,EAAEA,CAACA,CAACA;QAChDA,CAACA;QAEDL,2BAAOA,GAAPA;YACCM,IAAMA,IAAIA,GAAGA,IAAIA,CAACA,MAAMA,CAACA,KAAKA,EAAEA,CAACA;YACjCA,MAAMA,CAACA,IAAIA,CAACA,KAAKA,CAACA;QACnBA,CAACA;QAEDN,wBAAIA,GAAJA;YACCO,IAAMA,IAAIA,GAAGA,IAAIA,CAACA,MAAMA,CAACA,CAACA,CAACA,CAACA;YAC5BA,MAAMA,CAACA,IAAIA,CAACA,KAAKA,CAACA;QACnBA,CAACA;QACFP,gBAACA;IAADA,CAACA,AAhCD,IAgCC;IAhCD;+BAgCC,CAAA","sourcesContent":["interface Pair<T> {\n\tvalue: T;\n\tsize: number;\n}\n\n/**\n * This class is used internally by {@link ReadableStream} and {@link WritableStream} as a simple queue.\n * Each value in the queue includes a piece of metadata: the size of the value.\n */\nexport default class SizeQueue<T> {\n\tget totalSize(): number {\n\t\tlet totalSize = 0;\n\t\tthis._queue.forEach(function (pair) {\n\t\t\ttotalSize += pair.size;\n\t\t});\n\t\treturn totalSize;\n\t}\n\n\tget length(): number {\n\t\treturn this._queue.length;\n\t}\n\n\tprivate _queue: Pair<T>[] = [];\n\n\tempty() {\n\t\tthis._queue = [];\n\t}\n\n\tenqueue(value: T, size: number): void {\n\t\tthis._queue.push({ value: value, size: size });\n\t}\n\n\tdequeue(): T {\n\t\tconst pair = this._queue.shift();\n\t\treturn pair.value;\n\t}\n\n\tpeek(): T {\n\t\tconst pair = this._queue[0];\n\t\treturn pair.value;\n\t}\n}\n"]}